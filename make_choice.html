<html>
<head>
<!--Can not make a choice? What too eat or buy? Let this script make it for you!-->
<h2>Can not make a choice? Make choice for me!</h2>
<script type="text/javascript">
function getRandomInt(max)
{
  return Math.floor(Math.random() * max);
}

function setInitText()
{
	document.getElementById("data").value = "kroket\nrijst\npatat\npap";
}

function makeChoice()
{
	var text = document.getElementById("data").value;
	var lines = text.split(/\r|\r\n|\n/);
	var count = lines.length;

	//remove empty lines
	var tmp = [""];
	var j = 0;
	for (var i = 0; i < count; i++)
	{
		var str = lines[i];
		if (str !== "" && str !== null && str !== undefined)
	    {
	        tmp[j] = str;
	        j++;
	    }
	}

	//create choice
	count = tmp.length;
	var choice = getRandomInt(count);
	for(var i = 0;i < count; i++)
	{
		if(choice == i)
		{
			tmp[i] =  ">>>" + tmp[i] + "<<<" + "\n";
		}
		else
		{
			tmp[i]  = tmp[i] + "\n";
		}
	}

	// remove the commas of array string
	document.getElementById("data").value = tmp.join("");

	// remove last char, the \n
	document.getElementById("data").value = document.getElementById("data").value.slice(0, -1);

	// focus textarea and place cursor at the end
	const textarea = document.querySelector("textarea");
	textarea.focus();
	textarea.setSelectionRange(textarea.value.length, textarea.value.length);
}
</script>
</head>
<body onLoad="setInitText()">
<textarea id="data" name="data" cols="50" rows="15"></textarea><br />
<p><input type="submit" value="Make Choice" onClick="makeChoice()"/>
<input type="button" value="Reset" onClick="setInitText()"/></p>
</body>
</html>
